import { expect } from "chai";
import resolveExt from "../resolveExt.mjs";
describe("Test resolveExt", function () {
  it("test append", function () {
    var path = "./xxx";
    var extMap = {
      "": ".js"
    };
    var actual = resolveExt(path, extMap);
    expect(actual).to.equal("./xxx.js");
  });
  it("test node should not append", function () {
    var path = "xxx";
    var extMap = {
      "": ".js"
    };
    var actual = resolveExt(path, extMap);
    expect(actual).to.equal("xxx");
  });
  it("test always append", function () {
    var path = "./xxx.example";
    var extMap = {
      "": ".js",
      ".example": ".example"
    };
    var actual = resolveExt(path, extMap);
    expect(actual).to.equal("./xxx.example.js");
  });
  it("test replace", function () {
    var path = "./xxx.example";
    var extMap = {
      ".example": ".mjs"
    };
    var actual = resolveExt(path, extMap);
    expect(actual).to.equal("./xxx.mjs");
  });
  it("test with loader", function () {
    var path = "foo-loader!../index";
    var extMap = {
      "": ".mjs"
    };
    var actual = resolveExt(path, extMap);
    expect(actual).to.equal("foo-loader!../index.mjs");
  });
});